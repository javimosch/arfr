<!-- HBSIGNORE -->
<div class="row">
  <div class="title-bar">
    <h2 class="title-bar__title">Livrer</h2>
  </div>
</div>


<div class="row section" title="Sélection du magasin">
  <div class="col-sm-12">

    <div class="row">
      <hr>
    </div>



    <div class="row">
      <p class="text-center section__centered-title">Sélection du megasin</p>
    </div>


    <div class="row">
      <div class="col-md-12">
        <label>Entrer une adresse</label>
        <input name="addressInput" type="text" class="form-control address" address scope="self" model="data" field="address" placeholder="Rechercher une adresse" change="search(query)">
        <div class="input-buttons">
          <a class="link btn btn-red address__location" ng-click="setAddressFromGeolocation()"><i class="fa fa-map-marker" aria-hidden="true"></i></a>
          <a class="link btn btn-red address__home" ng-click="setAddressFromProfile()">Mon adresse&nbsp;<i class="fa fa-home" aria-hidden="true"></i></a>
        </div>
      </div>
    </div>

    <div class="row results" ng-show="shops">
      <div class="col-md-12">
        <hr>
        <hr>
        <label>Résultats</label>

        <div class="row" ng-show="shops && (shops.length == 0)">
          <p class="text-center text-center-italic">
            Aucun magasin n'a été trouvé à proximité.
          </p>
        </div>

      </div>

      <div class="col-md-12">
        <ul>
          <li  ng-repeat="shop in shops" ng-class="isSelected(shop)?'selected':''">
            <div ng-click="toggleShop(shop)">
              <div class="title">{{shop.name | capitalize:true}}</div>
              <div class="distance"><i class="icon-smc-rule"></i> {{shop.distance / 1000 | number: 2}} km</div>
              <div class="address"><i class="icon-smc-marker"></i> {{shop.address | capitalize:true}}</div>
              <i class="icon ion-chevron-right"></i>
            </div>
          </li>
        </ul>
      </div>

    </div>

    <div class="row">
      <div class="col-md-12" ng-show="hasSelectedShops()">
        <hr>
        <hr>
        <label>Vous avez sélectionné {{selectionSize()}} magasins</label>
      </div>
      <div class="col-md-12">
        <hr>
        <hr>
        <a class="link btn btn-md btn-red" ng-disabled="!hasSelectedShops()" ng-click="hasSelectedShops() && setSelectedShop()">Sélectionnez heur</a>
      </div>
    </div>

  </div>
</div>
